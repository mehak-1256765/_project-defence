;/*FB_PKG_DELIM*/

__d("PolarisAudioProgressBar.react",["cx","IGDSBox.react","PolarisIGCoreText","PolarisTimeConverter","react","usePolarisEventListener"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useRef,l=b.useState;function a(a){var b=a.audio,e=a.isDisabled,f=a.onAudioEnded,g=k(null),h=k(!1),m=k(0);a=l("0:00");var n=a[0],o=a[1];a=l("0%");var p=a[0],q=a[1],r=function(a){if(a.type==="mousedown"||a.type==="mousemove"||a.type==="mouseup")return a.clientX;else if(a.type==="touchstart"||a.type==="touchmove")return a.touches[0].clientX;return 0},s=j(function(a){if(b==null)return;var c=d("PolarisTimeConverter").convertMillisecondsToMinutesAndSeconds(a*1e3);o(c);q((a/b.duration*100).toFixed(2)+"%")},[b]),t=function(a){if(b==null)return 0;var c=g.current;if(!c)return 0;c=c.getBoundingClientRect();var d=c.width;a=r(a)-c.left;a<0?a=0:a>d&&(a=d);return a/d*b.duration};a=function(a){if(b==null)return;a.stopPropagation();h.current=!0;var c=t(a);s(c);m.current=c;a.type==="mousedown"?(window.addEventListener("mousemove",u),window.addEventListener("mouseup",v)):a.type==="touchstart"&&(window.addEventListener("touchmove",u,{passive:!1}),window.addEventListener("touchend",v))};var u=function(a){if(b==null)return;a.cancelable&&a.preventDefault();a.stopPropagation();if(h.current===!0){a=t(a);s(a);m.current=a}},v=function a(c){if(b==null)return;h.current=!1;b.currentTime=m.current;c.type==="mouseup"?(window.removeEventListener("mousemove",u),window.removeEventListener("mouseup",a)):c.type==="touchend"&&(window.removeEventListener("touchmove",u),window.removeEventListener("touchend",a))},w=function(a){b&&h.current===!1&&s(b.currentTime)},x=function(){b&&h.current===!1&&(f(),b.currentTime=0)};c("usePolarisEventListener")(b,"timeupdate",w);c("usePolarisEventListener")(b,"ended",x);return i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",flex:"grow",position:"relative",children:[i.jsx(c("IGDSBox.react"),{flex:"grow",paddingX:5,position:"relative",children:i.jsxs("div",{className:"_aa9u"+(e?" _aa9v":""),onMouseDown:e?void 0:a,onTouchStart:e?void 0:a,ref:g,role:"progressbar",tabIndex:0,children:[i.jsx("div",{className:"_aa9w",style:{width:p}}),i.jsx("div",{className:"_aa9x"+(e?" _aa9y":""),style:{left:p}})]})}),i.jsx(c("IGDSBox.react"),{position:"relative",width:36,children:i.jsx(c("PolarisIGCoreText"),{color:e?"ig-secondary-text":"ig-primary-text",size:"footnote",textAlign:"left",children:n})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisAudioPlayer.react",["IGDSBox.react","IGDSPlayPanoFilledIcon","IGDSWebPauseFilledIcon","PolarisAudioProgressBar.react","PolarisClipsActions","PolarisGenericStrings","PolarisIGCoreSVGIconButton","PolarisReactRedux","polarisClipsSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useRef,k=b.useState;function a(a){var b=a.isDisabled;a=a.src;var e=j(null),f=k(!1);f[0];var g=f[1],l=d("PolarisReactRedux").useDispatch(),m=d("PolarisReactRedux").useSelector(function(a){return d("polarisClipsSelectors").getIsAudioPlayerPlaying(a)});i(function(){var a=e.current;a&&!a.paused&&m===!1&&a.pause()},[m]);f=b?"ig-secondary-text":"ig-primary-text";var n=function(a){a.stopPropagation();a=e.current;a&&(a.paused&&a.src?(a.play(),l(d("PolarisClipsActions").updateAudioPageAudioPlayerIsPlaying(!0))):a.paused||(a.pause(),l(d("PolarisClipsActions").updateAudioPageAudioPlayerIsPlaying(!1))))};i(function(){g(e.current!=null)},[e]);return h.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",flex:"grow",position:"relative",children:[h.jsx("audio",{autoPlay:!1,controls:!1,ref:e,src:a}),h.jsx(c("PolarisIGCoreSVGIconButton"),{isDisabled:b,onClick:b?function(){}:n,padding:0,children:m?h.jsx(c("IGDSWebPauseFilledIcon"),{alt:d("PolarisGenericStrings").ASSISTIVE_TEXT_PAUSE_BUTTON,color:f,size:12}):h.jsx(c("IGDSPlayPanoFilledIcon"),{alt:d("PolarisGenericStrings").ASSISTIVE_TEXT_PLAY_BUTTON,color:f,size:12})}),h.jsx(c("PolarisAudioProgressBar.react"),{audio:e.current,isDisabled:b,onAudioEnded:function(){l(d("PolarisClipsActions").updateAudioPageAudioPlayerIsPlaying(!1))}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisUnknownTextString",["fbt"],(function(a,b,c,d,e,f,g,h){"use strict";a=h._("unknown");g.UNKNOWN_TEXT=a}),98);
__d("PolarisClipsPageInfoLayout.react",["IGDSBox.react","IGDSText.react","PolarisReactRedux","PolarisUnknownTextString","PolarisUserLink.react","polarisClipsSelectors","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.children,e=a.formattedMediaCount,f=a.itemArtistDisplayName,g=a.itemArtistUsername,i=a.itemImage;a=a.itemName;var j=d("PolarisReactRedux").useSelector(function(a){return d("polarisClipsSelectors").getIsNarrowScreen(a)});return h.jsxs(c("IGDSBox.react"),{direction:"column",marginBottom:j?0:8,padding:j?4:0,position:"relative",width:"100%",children:[h.jsxs(c("IGDSBox.react"),{direction:"row",position:"relative",children:[i,h.jsxs(c("IGDSBox.react"),{alignItems:"start",direction:"column",marginStart:j?4:9,marginTop:1,position:"relative",children:[h.jsx(c("IGDSBox.react"),{alignItems:"center",position:"relative",children:h.jsx(c("IGDSText.react"),{size:j?"label":"title",weight:j?"semibold":"normal",children:a})}),h.jsx(c("IGDSBox.react"),{marginTop:j?4:6,position:"relative",children:h.jsx(c("IGDSText.react"),{size:j?"body":"label",weight:"semibold",children:g!=null?h.jsx(c("PolarisUserLink.react"),{color:"ig-primary-text",username:g}):(i=f)!=null?i:d("PolarisUnknownTextString").UNKNOWN_TEXT})}),h.jsx(c("IGDSBox.react"),{marginTop:5,position:"relative",children:h.jsx(c("IGDSText.react"),{size:j?"footnote":"label",weight:"light",children:e})}),!j&&h.jsx(c("IGDSBox.react"),{maxWidth:"100%",minWidth:"50%",position:"relative",width:360,children:b})]})]}),j&&h.jsx(c("IGDSBox.react"),{position:"relative",width:"100%",children:b})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsPagePhoto.react",["fbt","PolarisPhoto.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={image:{alignItems:"x1qjc9v5",borderTop:"x6umtig",borderEnd:"x1b1mbwd",borderBottom:"xaqea5y",borderStart:"xav7gou",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexShrink:"x2lah0s",fontSize:"xk390pu",height:"x18dl8mb",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",overflowX:"x6ikm8r",overflowY:"x10wlt62",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",verticalAlign:"x11njtxf",width:"xrostsh","@media (max-width: 735px)_height":"x1rrdvvk","@media (max-width: 735px)_width":"x1tgtcet",$$css:!0}};function a(a){var b=a.itemThumbnail;a=a.xstyle;return i.jsx("div",{className:c("stylex")(j.image,a),children:i.jsx(c("PolarisPhoto.react"),{accessibilityCaption:h._("Item image"),setCrossOriginToUndefinedDONOTUSE:!0,src:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsAudioPageInfo.react",["fbt","IGDSBox.react","IGDSButton.react","PolarisAudioPlayer.react","PolarisClipsPageInfoLayout.react","PolarisClipsPagePhoto.react","PolarisConfig","PolarisNavigationActions","PolarisReactRedux","PolarisUA","Run","browserHistory","polarisClipsSelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useState,l={audioImage:{borderTopStartRadius:"xyi19xy",borderTopEndRadius:"x1ccrb07",borderBottomEndRadius:"xtf3nb5",borderBottomStartRadius:"x1pc53ja",$$css:!0}};function a(a){var b,e=a.audioID,f=a.bookmarkAudio,g=a.formattedMediaCount,m=a.isBookmarked,n=a.metadata,o=a.unbookmarkAudio,p=(n==null?void 0:(a=n.music_info)==null?void 0:(a=a.music_asset_info)==null?void 0:a.cover_artwork_uri)||(n==null?void 0:(a=n.original_sound_info)==null?void 0:(a=a.ig_artist)==null?void 0:a.profile_pic_url);a=(n==null?void 0:(a=n.music_info)==null?void 0:(a=a.music_consumption_info)==null?void 0:(a=a.ig_artist)==null?void 0:a.username)||(n==null?void 0:(a=n.original_sound_info)==null?void 0:(a=a.ig_artist)==null?void 0:a.username);n=(n==null?void 0:(b=n.music_info)==null?void 0:(b=b.music_asset_info)==null?void 0:b.web_30s_preview_download_url)||(n==null?void 0:(b=n.music_info)==null?void 0:(b=b.music_asset_info)==null?void 0:b.progressive_download_url)||(n==null?void 0:(b=n.original_sound_info)==null?void 0:b.progressive_download_url);b=k(m);m=b[0];var q=b[1];b=k(null);var r=b[0],s=b[1];b=k(null);var t=b[0],u=b[1];b=d("PolarisReactRedux").useSelector(d("polarisClipsSelectors").getSongName(e));var v=d("PolarisReactRedux").useSelector(d("polarisClipsSelectors").getSongArtistDisplayName(e)),w=d("PolarisReactRedux").useSelector(function(a){return d("polarisClipsSelectors").getBookmarkInfo(a,e)}),x=w.bookmarkError,y=w.isBookmarked,z=w.isUpdatingBookmark,A=d("PolarisReactRedux").useDispatch();j(function(){if(t!=null&&t!==r&&!z){var a=t==="bookmark"?f:o;a();s(t);u(null)}},[r,t,z,f,o]);j(function(){var a=d("Run").onBeforeUnload(function(){if(t!=null&&t!==r){var a=t==="bookmark"?f:o;a()}},!1);return function(){return a.remove()}},[t,r,f,o]);x&&y!==m&&q(y);if(p==null||b==null||a==null&&v==null)return null;w=i.jsx(c("PolarisAudioPlayer.react"),{isDisabled:n==null,src:n});x=m?i.jsx(c("IGDSButton.react"),{label:h._("Saved"),onClick:function(){u("unbookmark"),q(!1)},variant:"secondary"}):i.jsx(c("IGDSButton.react"),{label:h._("Save audio"),onClick:function(){d("PolarisConfig").isLoggedIn()?(u("bookmark"),q(!0)):d("PolarisUA").isDesktop()?A(d("PolarisNavigationActions").openLoginModal("feature_wall",d("browserHistory").browserHistory.location.pathname,"clips_save_audio")):A(d("PolarisNavigationActions").openLoggedOutIntentDialog("clips_save_audio",null,p))},variant:"secondary"});y=i.jsx(c("PolarisClipsPagePhoto.react"),{itemThumbnail:p,xstyle:l.audioImage});n=i.jsxs(c("IGDSBox.react"),{position:"relative",children:[i.jsx(c("IGDSBox.react"),{marginTop:5,position:"relative",children:x}),i.jsx(c("IGDSBox.react"),{marginTop:8,position:"relative",children:w})]});return i.jsx(c("PolarisClipsPageInfoLayout.react"),{formattedMediaCount:g,itemArtistDisplayName:v,itemArtistUsername:a,itemImage:y,itemName:b,children:n})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsPageBlockedMessage.react",["IGDSBox.react","IGDSText.react","PolarisExternalLink.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.clipsPageRestrictedContext;return h.jsxs(c("IGDSBox.react"),{alignItems:"center",height:"90%",justifyContent:"center",position:"relative",children:[(a==null?void 0:a.text)!=null&&h.jsx(c("IGDSText.react"),{textAlign:"center",children:a.text}),(a==null?void 0:a.link)!=null&&(a==null?void 0:a.link_text)!=null&&h.jsx(c("IGDSBox.react"),{marginTop:6,position:"relative",children:h.jsx(c("PolarisExternalLink.react"),{href:a.link,children:h.jsx(c("IGDSText.react"),{weight:"semibold",children:a.link_text})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsPageLayout.react",["cx","IGDSBox.react","IGDSText.react","PolarisReactRedux","PolarisUA","polarisClipsSelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.children,e=a.metadata;a=a.pageTitle;var f=d("PolarisReactRedux").useSelector(function(a){return d("polarisClipsSelectors").getIsNarrowScreen(a)});return i.jsx("div",{className:"_add1",children:i.jsxs(c("IGDSBox.react"),{direction:"column",height:"100%",position:"relative",width:"100%",children:[!d("PolarisUA").isMobile()&&e!=null&&i.jsx(c("IGDSBox.react"),{marginBottom:f?3:7,marginTop:f?4:0,paddingX:f?4:0,position:"relative",children:i.jsx(c("IGDSText.react").Headline2,{children:a})}),b]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisClipsAudioPage.react",["fbt","PolarisAsyncEntityQRModal","PolarisClipsActions","PolarisClipsAudioPageInfo.react","PolarisClipsGrid.react","PolarisClipsLogger","PolarisClipsPageBlockedMessage.react","PolarisClipsPageLayout.react","PolarisConditionalPageLayoutHandler.react","PolarisConfig","PolarisGenericMobileHeader.react","PolarisHttp404Page.react","PolarisPageMetadata.react","PolarisReactRedux","PolarisShell.react","polarisClipsSelectors","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useState,k="ClipsAudioPage",l=h._("Audio");function a(a){var b,e,f=a.audioID;a=a.showQRModal;var g=d("PolarisReactRedux").useDispatch();a=j(a);var h=a[0],m=a[1];a=d("PolarisReactRedux").useSelector(function(a){return d("polarisClipsSelectors").getClipsInfoFromAudioId(a,f)});var n=a.clips,o=a.formattedMediaCount,p=a.isBookmarked,q=a.isMusicPageRestricted,r=a.metadata,s=a.musicPageRestrictedContext,t=a.pagingInfo;a=a.shouldDisableFetching;var u=d("PolarisReactRedux").useSelector(function(a){return d("polarisClipsSelectors").getIsAudioPlayerPlaying(a)}),v=function(a){g(d("PolarisClipsActions").fetchClipsForAudioPage(f,t==null?void 0:t.cursor))},w=(r==null?void 0:r.music_info)!=null?"music":"original_sound",x=(b=r==null?void 0:(b=r.music_info)==null?void 0:(b=b.music_asset_info)==null?void 0:b.audio_asset_id)!=null?b:r==null?void 0:(b=r.original_sound_info)==null?void 0:b.audio_asset_id;b=function(){g(d("PolarisClipsActions").bookmarkAudio(f,x,w))};var y=function(){g(d("PolarisClipsActions").unbookmarkAudio(f,x,w))},z=function(a){u&&g(d("PolarisClipsActions").updateAudioPageAudioPlayerIsPlaying(!1)),d("PolarisClipsLogger").logClipsAudioPageMediaOpen({mediaID:a,pageID:f,userID:d("PolarisConfig").getViewerId()})},A=(t==null?void 0:t.isFetching)===!1&&(r==null?void 0:r.music_info)==null&&(r==null?void 0:r.original_sound_info)==null;e=(r==null?void 0:(e=r.music_info)==null?void 0:(e=e.music_consumption_info)==null?void 0:e.should_mute_audio)===!0||(r==null?void 0:(e=r.original_sound_info)==null?void 0:e.should_mute_audio)===!0;A=A||e;e=q===!0?i.jsx(c("PolarisClipsPageBlockedMessage.react"),{clipsPageRestrictedContext:s}):i.jsxs("div",{children:[o!=null&&r!=null&&p!=null&&i.jsx(c("PolarisClipsAudioPageInfo.react"),{audioID:f,bookmarkAudio:b,formattedMediaCount:o,isBookmarked:p,metadata:r,unbookmarkAudio:y}),i.jsx(c("PolarisClipsGrid.react"),{analyticsContext:k,clips:n,fetchClips:v,hasNextPage:t==null?void 0:t.moreAvailable,isFetching:t==null?void 0:t.isFetching,onModalOpen:z,shouldDisableFetching:a})]});if(A)return i.jsx(c("PolarisHttp404Page.react"),{});q=i.jsxs(c("PolarisShell.react"),{mobileHeader:i.jsx(c("PolarisGenericMobileHeader.react"),{title:l}),pageIdentifier:k,children:[i.jsx(c("PolarisPageMetadata.react"),{id:k,title:l}),i.jsx(c("PolarisClipsPageLayout.react"),{children:e,metadata:r,pageTitle:l}),h&&i.jsx(c("PolarisAsyncEntityQRModal"),{entityID:f,onClose:function(){return m(!1)},source:"DIRECT_NAVIGATION"})]});return c("PolarisConditionalPageLayoutHandler.react")!=null?i.jsx(c("PolarisConditionalPageLayoutHandler.react"),{mainComponent:q}):q}a.displayName=a.name+" [from "+f.id+"]";g.PAGE_ID=k;g.PAGE_TITLE=l;g.ClipsAudioPage=a}),98);
__d("PolarisClipsAudioRoot.react",["PolarisClipsAudioPage.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=a.props;var b=a.routeParams.audio_id;a=a.routeProps.show_qr_modal;return h.jsx(d("PolarisClipsAudioPage.react").ClipsAudioPage,{audioID:b,showQRModal:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);